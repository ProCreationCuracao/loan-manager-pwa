(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{18:(e,s,t)=>{"use strict";t.d(s,{N:()=>l});let l=(0,t(8).UU)("https://tudggygmmhhyiuutisow.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1ZGdneWdtbWhoeWl1dXRpc293Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzMjE1NzEsImV4cCI6MjA2OTg5NzU3MX0.cKGsqM6Fw48XEZJxXOwyEL36BzmSv_DwtchYmY4Jz0o")},6704:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7236)}])},7236:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var l=t(7765),n=t(3399);function a(e){let{loan:s}=e;return(0,l.jsxs)(n.P.div,{className:"glass p-6 flex flex-col space-y-2",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:120},children:[(0,l.jsx)("h3",{className:"text-xl font-semibold",children:s.borrower}),(0,l.jsxs)("p",{className:"text-lg",children:["Amount: $",s.amount]}),(0,l.jsxs)("p",{className:"text-sm",children:["Due: ",new Date(s.due_date).toLocaleDateString()]})]})}var i=t(3508),c=t(5977),r=t(6114),o=t(8101);function u(){let{theme:e,setTheme:s}=(0,i.D)(),[t,n]=(0,c.useState)(!1);return((0,c.useEffect)(()=>n(!0),[]),t)?(0,l.jsx)("button",{onClick:()=>s("dark"===e?"light":"dark"),className:"p-2 rounded-full glass","aria-label":"Toggle Theme",children:"dark"===e?(0,l.jsx)(r.A,{}):(0,l.jsx)(o.A,{})}):null}var d=t(18);function h(){let e=function(){let[e,s]=(0,c.useState)([]);return(0,c.useEffect)(()=>{d.N.from("loans").select("*").then(e=>{let{data:t}=e;return s(t||[])});let e=d.N.channel("public:loans").on("postgres_changes",{event:"*",schema:"public",table:"loans"},e=>{console.log("Change received!",e),d.N.from("loans").select("*").then(e=>{let{data:t}=e;return s(t||[])})}).subscribe();return()=>{d.N.removeChannel(e)}},[]),e}();return(0,l.jsxs)("div",{className:"min-h-screen gradient-bg flex flex-col items-center p-6 relative",children:[(0,l.jsx)(u,{}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-white mb-8",children:"Loan Manager"}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-4xl",children:e.length>0?e.map(e=>(0,l.jsx)(a,{loan:e},e.id)):(0,l.jsx)("p",{className:"text-white/80",children:"No active loans."})})]})}}},e=>{e.O(0,[8,840,636,593,792],()=>e(e.s=6704)),_N_E=e.O()}]);